# Система управления заданиями

## Общее описание

Система управления заданиями позволяет преподавателям создавать и проверять задания, а студентам - отправлять ответы и отслеживать свой прогресс.

## Основные компоненты

### Модели данных

1. **Assignment (Задание)**
   - Основная информация (название, описание, дедлайн)
   - Критерии оценивания
   - Настройки загрузки файлов
   - Связи с курсом и создателем

2. **AssignmentSubmission (Ответ на задание)**
   - Текстовый ответ
   - Прикрепленные файлы
   - Статус (черновик, отправлено, проверяется, проверено)
   - Оценки по критериям
   - Комментарии преподавателя

### Представления

1. **AssignmentDialog**
   - Просмотр информации о задании
   - Форма отправки ответа
   - Загрузка файлов
   - Просмотр результатов проверки

2. **AssignmentReviewDialog**
   - Список ответов с фильтрацией
   - Оценивание по критериям
   - Комментирование
   - Запрос доработки

### ViewModels

1. **AssignmentViewModel**
   - Логика работы с заданием
   - Управление файлами
   - Сохранение черновиков
   - Отслеживание дедлайнов

2. **AssignmentReviewViewModel**
   - Фильтрация и поиск ответов
   - Расчет оценок
   - Управление статусами
   - Обработка запросов на доработку

### Сервисы

1. **CourseService (расширение)**
   - CRUD операции для заданий
   - Управление ответами
   - Работа с файлами
   - Статистика

2. **NotificationService**
   - Уведомления о новых заданиях
   - Напоминания о дедлайнах
   - Оповещения о необходимости проверки
   - Интеграция с системой уведомлений Windows

## Функциональность

### Для преподавателей

1. **Управление заданиями**
   - Создание новых заданий
   - Редактирование существующих
   - Настройка критериев оценивания
   - Управление дедлайнами

2. **Проверка работ**
   - Просмотр списка ответов
   - Оценивание по критериям
   - Комментирование
   - Запрос доработки

### Для студентов

1. **Работа с заданиями**
   - Просмотр доступных заданий
   - Отправка ответов
   - Загрузка файлов
   - Сохранение черновиков

2. **Отслеживание прогресса**
   - Просмотр оценок
   - Чтение комментариев
   - Доработка по запросу
   - Отслеживание дедлайнов

## Предстоящие задачи

1. **Настройки уведомлений**
   - [ ] Создать модель настроек уведомлений
   - [ ] Добавить диалог настроек
   - [ ] Реализовать сохранение настроек
   - [ ] Интегрировать с NotificationService

2. **Улучшение UI**
   - [ ] Добавить анимации
   - [ ] Улучшить отображение дедлайнов
   - [ ] Добавить прогресс-бары
   - [ ] Реализовать drag-and-drop для файлов

3. **Расширение функциональности**
   - [ ] Добавить шаблоны заданий
   - [ ] Реализовать массовую проверку
   - [ ] Добавить экспорт оценок
   - [ ] Реализовать автоматические тесты

4. **Оптимизация**
   - [ ] Кэширование данных
   - [ ] Ленивая загрузка файлов
   - [ ] Оптимизация запросов к БД
   - [ ] Сжатие загружаемых файлов

5. **Безопасность**
   - [ ] Проверка типов файлов
   - [ ] Ограничение размера файлов
   - [ ] Валидация входных данных
   - [ ] Аудит действий пользователей

## Технические детали

### База данных

1. **Таблицы**
   - Assignments
   - AssignmentCriteria
   - AssignmentSubmissions
   - SubmissionFiles
   - CriteriaScores

2. **Связи**
   - Assignment -> Course (Many-to-One)
   - Assignment -> User (Created by) (Many-to-One)
   - AssignmentSubmission -> Assignment (Many-to-One)
   - AssignmentSubmission -> User (Many-to-One)
   - SubmissionFile -> AssignmentSubmission (Many-to-One)

### Файловая система

1. **Структура хранения**
   ```
   Storage/
   ├── AssignmentFiles/
   │   ├── {AssignmentId}/
   │   │   └── {UserId}/
   │   │       └── files...
   ```

2. **Типы файлов**
   - Документы (.pdf, .doc, .docx)
   - Изображения (.jpg, .png)
   - Архивы (.zip)
   - Текстовые файлы (.txt)

### Уведомления

1. **Типы**
   - Новые задания
   - Приближающиеся дедлайны
   - Ожидающие проверки
   - Результаты проверки

2. **Настройки**
   - Частота проверки
   - Типы уведомлений
   - Время напоминаний
   - Способы доставки
